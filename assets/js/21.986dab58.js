(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{363:function(t,e,o){t.exports=o.p+"assets/img/gmod_mount_example.16b990a7.png"},400:function(t,e,o){"use strict";o.r(e);var n=o(48),s=Object(n.a)({},(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[n("h1",{attrs:{id:"using-mounts"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#using-mounts"}},[t._v("#")]),t._v(" Using Mounts")]),t._v(" "),n("p",[t._v("Mounts is a feature that allows administrators to mount other directories from the host file-system into a Server's container.")]),t._v(" "),n("h2",{attrs:{id:"wings-configuration"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#wings-configuration"}},[t._v("#")]),t._v(" Wings Configuration")]),t._v(" "),n("p",[t._v("For security reasons it is not possible to mount directories on a node by default. Directories that should be mountable have to be specified explicitly in the Wings configuration.")]),t._v(" "),n("p",[t._v("In the Wings configuration file ("),n("code",[t._v("/etc/pterodactyl/config.yml")]),t._v(") the "),n("code",[t._v("allowed_mounts")]),t._v(" field is used to list mountable directories. The listed directories and all their subdirectories can be mounted.")]),t._v(" "),n("div",{staticClass:"language-yml extra-class"},[n("pre",{pre:!0,attrs:{class:"language-yml"}},[n("code",[n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("allowed_mounts")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" /example\n")])])]),n("p",[t._v("You have to restart Wings to apply new changes to your Wings config.")]),t._v(" "),n("h2",{attrs:{id:"panel-configuration"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#panel-configuration"}},[t._v("#")]),t._v(" Panel Configuration")]),t._v(" "),n("p",[t._v("You have to configure mounts in admin Panel in order to use them with your servers. They consist of a source pad on the node and a target path where it will be mounted in the container.")]),t._v(" "),n("div",{staticClass:"custom-block warning"},[n("p",{staticClass:"custom-block-title"},[t._v("Path in the container")]),t._v(" "),n("p",[t._v("Mounts cannot be mounted to or inside of "),n("code",[t._v("/home/container")]),t._v(" or any subdirectory of it, nor can you cross-mount servers such as Server A's directory into Server B.")])]),t._v(" "),n("h3",{attrs:{id:"creating-a-mount"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#creating-a-mount"}},[t._v("#")]),t._v(" Creating a Mount")]),t._v(" "),n("ol",[n("li",[t._v("In the admin Panel go to "),n("strong",[t._v("Mounts")]),t._v(".")]),t._v(" "),n("li",[t._v("Create a new mount.")]),t._v(" "),n("li",[t._v("Fill in the details as required.\n"),n("ul",[n("li",[n("strong",[t._v("Name")]),t._v(": Name for your mount.")]),t._v(" "),n("li",[n("strong",[t._v("Description")]),t._v(": Description for your mount.")]),t._v(" "),n("li",[n("strong",[t._v("Source")]),t._v(": The absolute path to the folder or files on the Node machine.")]),t._v(" "),n("li",[n("strong",[t._v("Target")]),t._v(": The absolute path where the mount will be placed inside of your server, can "),n("strong",[t._v("not")]),t._v(" include "),n("code",[t._v("/home/container")]),t._v(" in the path.")]),t._v(" "),n("li",[n("strong",[t._v("Read Only")]),t._v(": Whether the mount will be read-only for the servers using it.")]),t._v(" "),n("li",[n("strong",[t._v("User Mountable")]),t._v(": Whether to allow users to self mount this mount.")])])]),t._v(" "),n("li",[t._v("After creating the mount, you are required to add both "),n("strong",[t._v("Eggs")]),t._v(" and "),n("strong",[t._v("Nodes")]),t._v(" that this mount may be used on.")])]),t._v(" "),n("div",{staticClass:"custom-block warning"},[n("p",{staticClass:"custom-block-title"},[t._v("Mounts used by multiple servers")]),t._v(" "),n("p",[t._v("All servers using the same mounts will "),n("strong",[t._v("only")]),t._v(" share their contents when they are on the same node. Mounts are not synchronized between nodes.")])]),t._v(" "),n("h3",{attrs:{id:"assigning-a-mount-to-a-server"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#assigning-a-mount-to-a-server"}},[t._v("#")]),t._v(" Assigning a Mount to a Server")]),t._v(" "),n("ol",[n("li",[t._v("In the admin Panel navigate to the server you would like to use a mount with")]),t._v(" "),n("li",[t._v("Go to the mounts page")]),t._v(" "),n("li",[t._v("Click the "),n("strong",[t._v("+")]),t._v(" button")]),t._v(" "),n("li",[t._v("Restart the server")])]),t._v(" "),n("p",[t._v("The files of the mount should become available in the target path in the container. You can temporarily change your server startup command to "),n("code",[t._v("ls <mount target>")]),t._v(", which should output the contents of the mount if configured correctly.")]),t._v(" "),n("div",{staticClass:"custom-block warning"},[n("p",{staticClass:"custom-block-title"},[t._v("Mounts cannot be accessed")]),t._v(" "),n("p",[t._v("Mounts do not appear in the Panel's file manager, nor are they accessible via SFTP. However, the server itself will be able to see and use the mounts.")])]),t._v(" "),n("h3",{attrs:{id:"example-mount"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#example-mount"}},[t._v("#")]),t._v(" Example Mount")]),t._v(" "),n("p",[t._v("The example mount below is stored in the path "),n("code",[t._v("/var/lib/pterodactyl/mounts")]),t._v(", which we add to the Wings "),n("code",[t._v("config.yml")])]),t._v(" "),n("div",{staticClass:"language-yml extra-class"},[n("pre",{pre:!0,attrs:{class:"language-yml"}},[n("code",[n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("allowed_mounts")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" /var/lib/pterodactyl/mounts\n")])])]),n("p",[n("img",{attrs:{src:o(363),alt:""}})])])}),[],!1,null,null,null);e.default=s.exports}}]);