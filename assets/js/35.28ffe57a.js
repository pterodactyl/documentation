(window.webpackJsonp=window.webpackJsonp||[]).push([[35],{292:function(a,t,s){"use strict";s.r(t);var e=s(15),n=Object(e.a)({},(function(){var a=this,t=a._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("h1",{attrs:{id:"centos-7"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#centos-7"}},[a._v("#")]),a._v(" CentOS 7")]),a._v(" "),t("p",[a._v("This guide provides comprehensive instructions for installing Pterodactyl v1.X on CentOS 7, including all dependencies and SSL configuration.")]),a._v(" "),t("p"),t("div",{staticClass:"table-of-contents"},[t("ul",[t("li",[t("a",{attrs:{href:"#install-dependencies"}},[a._v("Install Dependencies")]),t("ul",[t("li",[t("a",{attrs:{href:"#selinux-configuration"}},[a._v("SELinux Configuration")])]),t("li",[t("a",{attrs:{href:"#installing-dependencies"}},[a._v("Installing Dependencies")])])])]),t("li",[t("a",{attrs:{href:"#server-configuration"}},[a._v("Server Configuration")]),t("ul",[t("li",[t("a",{attrs:{href:"#php-configuration"}},[a._v("PHP Configuration")])]),t("li",[t("a",{attrs:{href:"#selinux-configuration"}},[a._v("SELinux configuration")])])])]),t("li",[t("a",{attrs:{href:"#installing-the-panel"}},[a._v("Installing the Panel")])])])]),t("p"),a._v(" "),t("h2",{attrs:{id:"install-dependencies"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#install-dependencies"}},[a._v("#")]),a._v(" Install Dependencies")]),a._v(" "),t("h3",{attrs:{id:"selinux-configuration"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#selinux-configuration"}},[a._v("#")]),a._v(" SELinux Configuration")]),a._v(" "),t("p",[a._v("If SELinux is enabled (check with "),t("code",[a._v("sestatus")]),a._v("), install the following packages:")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("yum "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-y")]),a._v(" policycoreutils policycoreutils-python selinux-policy selinux-policy-targeted libselinux-utils setroubleshoot-server setools setools-console mcstrans\n")])])]),t("h3",{attrs:{id:"installing-dependencies"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#installing-dependencies"}},[a._v("#")]),a._v(" Installing Dependencies")]),a._v(" "),t("p",[a._v("Run the following commands to install all necessary dependencies:")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# Add MariaDB repository")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("tee")]),a._v(" /etc/yum.repos.d/mariadb.repo "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<<")]),t("span",{pre:!0,attrs:{class:"token string"}},[a._v("EOF\n[mariadb]\nname = MariaDB\nbaseurl = http://yum.mariadb.org/10.5/centos7-amd64\ngpgkey = https://yum.mariadb.org/RPM-GPG-KEY-MariaDB\ngpgcheck = 1\nEOF")]),a._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# Install EPEL and Remi repositories")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" yum "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-y")]),a._v(" https://dl.fedoraproject.org/pub/epel/epel-release-latest-7.noarch.rpm\n"),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" yum "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-y")]),a._v(" https://rpms.remirepo.net/enterprise/remi-release-7.rpm\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# Enable PHP 8.3 from Remi")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" yum "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-y")]),a._v(" yum-utils\n"),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" yum-config-manager "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--disable")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v("'remi-php*'")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" yum-config-manager "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--enable")]),a._v(" remi-php83\n\n"),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" yum update "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-y")]),a._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# Install dependencies")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" yum "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-y")]),a._v(" MariaDB-common MariaDB-server php php-"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("common,fpm,cli,json,mysqlnd,mcrypt,gd,mbstring,pdo,zip,bcmath,dom,opcache"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v(" nginx "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("zip")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("unzip")]),a._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# Install Redis")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" yum "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-y")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--enablerepo")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("remi redis\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# Start and enable services")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" systemctl "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("enable")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--now")]),a._v(" mariadb nginx redis\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# Configure firewall")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" firewall-cmd --add-service"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("http "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--permanent")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" firewall-cmd --add-service"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("https "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--permanent")]),a._v(" \n"),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" firewall-cmd "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--reload")]),a._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# Install Composer")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("curl")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-sS")]),a._v(" https://getcomposer.org/installer "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" php -- --install-dir"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("/usr/local/bin "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--filename")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("composer\n")])])]),t("h2",{attrs:{id:"server-configuration"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#server-configuration"}},[a._v("#")]),a._v(" Server Configuration")]),a._v(" "),t("h3",{attrs:{id:"php-configuration"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#php-configuration"}},[a._v("#")]),a._v(" PHP Configuration")]),a._v(" "),t("p",[a._v("Create a new PHP-FPM configuration file in /etc/php-fpm.d/www-pterodactyl.conf:")]),a._v(" "),t("div",{staticClass:"language-conf extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("[pterodactyl]\n\nuser = nginx\ngroup = nginx\n\nlisten = /var/run/php-fpm/pterodactyl.sock\nlisten.owner = nginx\nlisten.group = nginx\nlisten.mode = 0750\n\npm = ondemand\npm.max_children = 9\npm.process_idle_timeout = 10s\npm.max_requests = 200\n")])])]),t("p",[a._v("Start and enable PHP-FPM:")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" systemctl "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("enable")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--now")]),a._v(" php-fpm\n")])])]),t("h3",{attrs:{id:"selinux-configuration-2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#selinux-configuration-2"}},[a._v("#")]),a._v(" SELinux configuration")]),a._v(" "),t("p",[a._v("The following command will allow nginx to work with redis.")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("setsebool "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-P")]),a._v(" httpd_can_network_connect "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("1")]),a._v("\nsetsebool "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-P")]),a._v(" httpd_execmem "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("1")]),a._v("\nsetsebool "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-P")]),a._v(" httpd_unified "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("1")]),a._v("\n")])])]),t("h2",{attrs:{id:"installing-the-panel"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#installing-the-panel"}},[a._v("#")]),a._v(" Installing the Panel")]),a._v(" "),t("p",[a._v("Excellent, we now have all of the required dependencies installed and configured. From here, follow the "),t("RouterLink",{attrs:{to:"/panel/1.0/getting_started.html#download-files"}},[a._v("official Panel installation documentation")]),a._v(".")],1),a._v(" "),t("div",{staticClass:"custom-block tip"},[t("p",{staticClass:"custom-block-title"},[a._v("TIP")]),a._v(" "),t("p",[a._v("You will need to change the fastcgi_pass path in the Nginx configuration to "),t("code",[a._v("/var/run/php-fpm/pterodactyl.sock")])])])])}),[],!1,null,null,null);t.default=n.exports}}]);