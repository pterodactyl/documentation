<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Upgrading 0.6 to 0.7 | Pterodactyl</title>
    <meta name="description" content="The open-source server management solution.">
    <link rel="apple-touch-icon" sizes="180x180" href="/favicons/apple-touch-icon.png">
  <link rel="icon" type="image/png" href="/favicons/favicon-32x32.png" sizes="32x32">
  <link rel="icon" type="image/png" href="/favicons/favicon-16x16.png" sizes="16x16">
  <link rel="mask-icon" href="/favicons/safari-pinned-tab.svg" color="#0e4688">
  <link rel="manifest" href="/favicons/manifest.json">
  <link rel="shortcut icon" href="/favicons/favicon.ico">
  <meta name="msapplication-config" content="/favicons/browserconfig.xml">
  <meta name="theme-color" content="#0e4688">
    
    <link rel="preload" href="/assets/css/0.styles.55a8b33d.css" as="style"><link rel="preload" href="/assets/js/app.7468f4dd.js" as="script"><link rel="preload" href="/assets/js/35.4a6c0b34.js" as="script"><link rel="prefetch" href="/assets/js/14.1acbaf05.js"><link rel="prefetch" href="/assets/js/2.7fc94278.js"><link rel="prefetch" href="/assets/js/3.22ad5684.js"><link rel="prefetch" href="/assets/js/4.3b524e63.js"><link rel="prefetch" href="/assets/js/5.be11e27b.js"><link rel="prefetch" href="/assets/js/6.f6e18708.js"><link rel="prefetch" href="/assets/js/7.5774c870.js"><link rel="prefetch" href="/assets/js/8.2e6c9ec6.js"><link rel="prefetch" href="/assets/js/9.27358f20.js"><link rel="prefetch" href="/assets/js/10.ebe1af5e.js"><link rel="prefetch" href="/assets/js/11.e1ef5e68.js"><link rel="prefetch" href="/assets/js/12.15f026d8.js"><link rel="prefetch" href="/assets/js/13.58cd6ae7.js"><link rel="prefetch" href="/assets/js/15.a80c3281.js"><link rel="prefetch" href="/assets/js/16.efed23e1.js"><link rel="prefetch" href="/assets/js/17.a51b9114.js"><link rel="prefetch" href="/assets/js/18.734de936.js"><link rel="prefetch" href="/assets/js/19.a135716b.js"><link rel="prefetch" href="/assets/js/20.340ea65f.js"><link rel="prefetch" href="/assets/js/21.787eeb3c.js"><link rel="prefetch" href="/assets/js/22.8df0a15b.js"><link rel="prefetch" href="/assets/js/23.9cff30d6.js"><link rel="prefetch" href="/assets/js/24.3261f567.js"><link rel="prefetch" href="/assets/js/25.c4cc872f.js"><link rel="prefetch" href="/assets/js/26.f030abd8.js"><link rel="prefetch" href="/assets/js/27.e1d5f531.js"><link rel="prefetch" href="/assets/js/28.0e1e014b.js"><link rel="prefetch" href="/assets/js/29.30f44579.js"><link rel="prefetch" href="/assets/js/30.5aa49dc8.js"><link rel="prefetch" href="/assets/js/31.1d54397d.js"><link rel="prefetch" href="/assets/js/32.b84c8ea1.js"><link rel="prefetch" href="/assets/js/33.468c5898.js"><link rel="prefetch" href="/assets/js/34.05b35e32.js"><link rel="prefetch" href="/assets/js/36.0fadefe0.js"><link rel="prefetch" href="/assets/js/37.dcdbe2c7.js"><link rel="prefetch" href="/assets/js/38.be6e68af.js"><link rel="prefetch" href="/assets/js/39.e2bae673.js"><link rel="prefetch" href="/assets/js/40.ed0f62dd.js"><link rel="prefetch" href="/assets/js/41.00c13272.js"><link rel="prefetch" href="/assets/js/42.6772fc89.js"><link rel="prefetch" href="/assets/js/43.1a2eda90.js"><link rel="prefetch" href="/assets/js/44.f3586402.js">
    <link rel="stylesheet" href="/assets/css/0.styles.55a8b33d.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="nav"><div class="sidebar-button block md:hidden flex-no-shrink"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <div class="logo-container"><a href="/" class="home-link router-link-active"><img src="/pterodactyl-flat.png" class="logo"> <span class="site-name hidden md:inline can-hide">
    Pterodactyl
  </span></a></div> <div class="w-full"><div class="flex"><div class="search-box"><input aria-label="Search" placeholder="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links flex-no-shrink hidden md:flex"><div class="nav-item"><a href="/project/introduction.html" class="nav-link">Documentation
</a></div><div class="nav-item"><a href="/community/about.html" class="nav-link">Community Guides
</a></div><div class="nav-item"><a href="https://pterodactyl.io/discord" target="_blank" rel="noopener noreferrer" class="nav-link external">
    Get Help
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <div class="nav-item"><a href="https://github.com/pterodactyl/panel" target="_blank" rel="noopener noreferrer" class="nav-link">
            Contribute
            <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div></nav></div></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links flex-no-shrink block md:hidden"><div class="nav-item"><a href="/project/introduction.html" class="nav-link">Documentation
</a></div><div class="nav-item"><a href="/community/about.html" class="nav-link">Community Guides
</a></div><div class="nav-item"><a href="https://pterodactyl.io/discord" target="_blank" rel="noopener noreferrer" class="nav-link external">
    Get Help
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <div class="nav-item"><a href="https://github.com/pterodactyl/panel" target="_blank" rel="noopener noreferrer" class="nav-link">
            Contribute
            <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div></nav>  <ul class="sidebar-links"><li><div class="sidebar-group first"><p class="sidebar-heading open"><span>Project Information</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/project/introduction.html" class="sidebar-link">Introduction</a></li><li><a href="/project/about.html" class="sidebar-link">About</a></li><li><a href="/project/terms.html" class="sidebar-link">Terminology</a></li><li><a href="/project/community.html" class="sidebar-link">Community Standards</a></li></ul></div></li><li><div class="sidebar-group"><p class="sidebar-heading"><span>Panel</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/panel/getting_started.html" class="sidebar-link">Getting Started</a></li><li><a href="/panel/webserver_configuration.html" class="sidebar-link">Webserver Configuration</a></li><li><a href="/panel/upgrading.html" class="sidebar-link">Upgrading</a></li><li><a href="/panel/configuration.html" class="sidebar-link">Environment Configuration</a></li><li><a href="/panel/troubleshooting.html" class="sidebar-link">Troubleshooting</a></li></ul></div></li><li><div class="sidebar-group"><p class="sidebar-heading"><span>Daemon</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/daemon/installing.html" class="sidebar-link">Installation</a></li><li><a href="/daemon/upgrading.html" class="sidebar-link">Upgrading</a></li><li><a href="/daemon/configuration.html" class="sidebar-link">Additional Configuration</a></li><li><a href="/daemon/kernel_modifications.html" class="sidebar-link">Kernel Modifications</a></li><li><a href="/daemon/debian_8_docker.html" class="sidebar-link">Docker on Debian 8</a></li><li><a href="/daemon/standalone_sftp.html" class="sidebar-link">Standalone SFTP Server</a></li></ul></div></li><li><div class="sidebar-group"><p class="sidebar-heading"><span>Tutorials</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/tutorials/mysql_setup.html" class="sidebar-link">Setting up MySQL</a></li><li><a href="/tutorials/creating_ssl_certificates.html" class="sidebar-link">Creating SSL Certificates</a></li></ul></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Development &amp; Ops</span> <span class="arrow right"></span></p> <!----></div></li></ul> </div> <div class="page"> <div class="content"><h1 id="upgrading-0-6-to-0-7"><a href="#upgrading-0-6-to-0-7" aria-hidden="true" class="header-anchor">#</a> Upgrading 0.6 to 0.7</h1> <h2 id="fetch-updated-files"><a href="#fetch-updated-files" aria-hidden="true" class="header-anchor">#</a> Fetch Updated Files</h2> <p>The first step in the update process is to download the new panel files from Github. The command below will download
the release archive for the most recent version of Pterodactyl and save it in the current directory. Now is a good time
to ensure that you're in the <code>/var/www/pterodactyl</code> directory as the command below will automatically unpack in whatever
directory you are currently in.</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">curl</span> -L https://github.com/pterodactyl/panel/releases/download/v0.7.15/panel.tar.gz <span class="token operator">|</span> <span class="token function">tar</span> --strip-components<span class="token operator">=</span>1 -xzv
</code></pre></div><p>Once all of the files are downloaded we need to set the correct permissions on the cache and storage directories to avoid
any webserver related errors.</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">chmod</span> -R 755 storage/* bootstrap/cache
</code></pre></div><h2 id="clear-compiled-assets"><a href="#clear-compiled-assets" aria-hidden="true" class="header-anchor">#</a> Clear Compiled Assets</h2> <p>Previous versions of Pterodactyl attempted to cache your configuration file for speed and performance enhancements. This
ended up just causing more headaches with minimal improvements in performance, so we decided to stop doing that. Running
the command below will clear the cached files for you so we can continue with upgrading.</p> <div class="tip custom-block"><p class="custom-block-title">TIP</p> <p>You probably only need to run this command once when upgrading from <code>0.6.X</code>. Once you're upgraded we don't cache the configuration
file so there is no reason to remove anything.</p></div> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">rm</span> -rf bootstrap/cache/*
</code></pre></div><p>Once the configuration cache is removed, you'll need to clear the template cache to ensure users get the most recent
templates.</p> <div class="language-bash extra-class"><pre class="language-bash"><code>php artisan view:clear
</code></pre></div><h2 id="update-dependencies"><a href="#update-dependencies" aria-hidden="true" class="header-anchor">#</a> Update Dependencies</h2> <p>After you've downloaded all of the new files you will need to upgrade the core components of the panel. To do this,
simply run the commands below and follow any prompts.</p> <div class="language-bash extra-class"><pre class="language-bash"><code>composer <span class="token function">install</span> --no-dev --optimize-autoloader
</code></pre></div><h2 id="update-environment"><a href="#update-environment" aria-hidden="true" class="header-anchor">#</a> Update Environment</h2> <p>These scripts will display your current values in brackets. To keep the current values simply press enter and it will
continue without making any modifications.</p> <div class="tip custom-block"><p class="custom-block-title">TIP</p> <p>We've changed our recommended cache driver to be Redis, rather than Memcached. If you're using Memcached you can
continue doing so with no problems, however moving forward our installation documentation will only mention Redis.</p></div> <div class="language-bash extra-class"><pre class="language-bash"><code>php artisan p:environment:setup
php artisan p:environment:mail
php artisan p:environment:database
</code></pre></div><h2 id="database-updates"><a href="#database-updates" aria-hidden="true" class="header-anchor">#</a> Database Updates</h2> <div class="warning custom-block"><p class="custom-block-title">Backup your databases</p> <p>The upgrade from <code>0.6</code> to <code>v0.7</code> includes some rather significant database changes. While the migration utility is
able to handle everything for you, we still suggest taking a backup of your database before proceeding — just incase.</p></div> <div class="warning custom-block"><p class="custom-block-title">WARNING</p> <p>Running <code>db:seed</code> below will overwrite any changes you made to core Pterodactyl Nests, Eggs, or Egg Variables! This is
unavoidable, and this seeder must be run. To avoid this in the future, please create custom nests, or create custom
eggs for game variations.</p></div> <div class="language-bash extra-class"><pre class="language-bash"><code>php artisan migrate --force
php artisan db:seed --force
</code></pre></div><h2 id="cleanup-api-keys"><a href="#cleanup-api-keys" aria-hidden="true" class="header-anchor">#</a> Cleanup API Keys</h2> <p>A significant change is introduced in 0.7.0 that changes how API keys are used, stored, and validated. Due to this
change, all previously created keys will no longer function. In order to keep things cleaned up you'll want to remove
these orphaned keys. To do so, run the command below.</p> <div class="language-bash extra-class"><pre class="language-bash"><code>php artisan p:migration:clean-orphaned-keys
</code></pre></div><p>Don't forget to create new keys for yourself, as well as let all of your users know they'll need to do so as well.</p> <h2 id="set-permissions"><a href="#set-permissions" aria-hidden="true" class="header-anchor">#</a> Set Permissions</h2> <p>The last step is to set the proper owner of the files to be the user that runs your webserver. In most cases this
is <code>www-data</code> but can vary from system to system — sometimes being <code>nginx</code>, <code>apache</code>, or even <code>nobody</code>.</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># If using NGINX or Apache (not on CentOS):</span>
<span class="token function">chown</span> -R www-data:www-data * 

<span class="token comment"># If using NGINX on CentOS:</span>
<span class="token function">chown</span> -R nginx:nginx *

<span class="token comment"># If using Apache on CentOS</span>
<span class="token function">chown</span> -R apache:apache *
</code></pre></div></div> <div class="page-edit"><div class="edit-link"><a href="https://github.com/pterodactyl/documentation/edit/master/panel/upgrade/0.6_to_0.7.md" target="_blank" rel="noopener noreferrer">Help us improve this page.</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <!----></div> <!----> </div></div></div>
    <script src="/assets/js/35.4a6c0b34.js" defer></script><script src="/assets/js/app.7468f4dd.js" defer></script>
  </body>
</html>
